<div>
  <h2>
    <a href="/post/{{id}}">{{title}}</a>
  </h2>
  <p>
    {{body}}
  </p>
  <p>
    -
    {{user.username}}
  </p>
  <button class="delete-btn" data-id={{id}}>Delete</button>
  <hr />
</div>

<script>
  document.querySelector('.delete-btn').addEventListener('click', async function() {
    const id = this.dataset.id; 
    const response = await fetch(`/api/posts/${id}`, {
    method: "DELETE", 
    }); 
    const json = await response.json(); 
    if (response.ok) {
    document.location.replace("/dashboard"); } 
    else {
       alert(json.message); 
    } 
  })
</script>